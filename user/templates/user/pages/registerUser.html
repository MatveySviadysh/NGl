{% load static %}
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</title>  
<link rel="stylesheet" href="{% static 'user/scss/User/UserRegister.scss' %}">
<link rel="stylesheet" href="{% static 'user/scss/main_page/FontMain.scss' %}">

<div class="registration-container">
    <h2 class="title-text">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
    <form method="post" class="registration-form">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="id_username">–ò–º—è</label>
            {{ form.username }}
        </div>

        <div class="form-group">
            <label for="id_email">–ü–æ—á—Ç–∞</label>
            {{ form.email }}
        </div>

        <div class="form-group">
            <label for="id_password1">–ü–∞—Ä–æ–ª—å</label>
            <div class="password-container">
                {{ form.password1 }} 
                <button type="button" id="toggle-password-user" onclick="togglePasswordUser()" class="toggle-button">üëÅÔ∏è</button>
            </div>
        </div>

        <div class="form-group">
            <div class="password-container">
                {{ form.password2 }} 
                <button type="button" id="toggle-password-confirm" onclick="togglePasswordConfirm()" class="toggle-button">üëÅÔ∏è</button>
            </div>
        </div>
        
        <button type="submit" class="registration-button">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
    </form>
    <div class="footer-link">
        <a class="login-link" href="{% url 'login-user' %}">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í—Ö–æ–¥</a>
    </div>
</div>

<script src="{% static 'user/js/ShowPassword.js' %}"></script>

<style>
.password-container {
    position: relative;
}

.toggle-button {
    position: absolute;
    right: 10px; /* Space from the right */
    top: 50%; /* Center vertically */
    transform: translateY(-50%); /* Adjust for vertical centering */
    background-color: transparent; /* Transparent background */
    border: none; /* No border */
    cursor: pointer; /* Pointer cursor on hover */
    color: #aaa; /* Default color for the button */
}

.toggle-button:hover {
    color: #555; /* Darker color on hover */
}
</style>

<script>
function togglePasswordUser() {
    const passwordField = document.querySelector('#id_password1'); // Get the password input
    const toggleButton = document.getElementById('toggle-password-user');
    
    if (passwordField.type === 'password') {
        passwordField.type = 'text'; // Show password
        toggleButton.style.color = '#888'; // Change color to gray
    } else {
        passwordField.type = 'password'; // Hide password
        toggleButton.style.color = ''; // Reset color
    }
}

function togglePasswordConfirm() {
    const passwordField = document.querySelector('#id_password2'); // Get the confirm password input
    const toggleButton = document.getElementById('toggle-password-confirm');
    
    if (passwordField.type === 'password') {
        passwordField.type = 'text'; // Show password
        toggleButton.style.color = '#888'; // Change color to gray
    } else {
        passwordField.type = 'password'; // Hide password
        toggleButton.style.color = ''; // Reset color
    }
}
</script>
